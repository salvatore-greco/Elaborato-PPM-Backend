{% extends 'base.html' %}

{% block content %}
    <h1>{{ event.name }}</h1>
    <h3>{{ event.date }} @ {{ event.place_name }}, {{ event.place_address }}</h3>
    <p>Descrizione</p>
    <form method="post">
    {% csrf_token %}
        {% if user.is_authenticated and not user.is_organizer %}
            {% if registered %}
                <button class="btn btn-primary" value="0" name="btn">Unregister</button>
            {% else %}
                <button class="btn btn-primary" value="1" name="btn">Register</button>
            {% endif %}
        {% endif %}
    </form>
    {% if toast %}
        <div class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="true" data-bs-delay="3000">
            <div class="toast-header">
                {% if registered %}
                <strong class="me-auto">Succesfully registered!</strong>
                    {% else %}
                    <strong class="me-auto">Succesfully unregistered!</strong>
                    {% endif %}
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    {% endif %}
{% endblock %}

